<template>
  <view class="help-page">
    <!-- è‡ªå®šä¹‰å¯¼èˆªæ  -->
    <view class="custom-navbar" :style="{ paddingTop: `${statusBarHeight}px` }">
      <view class="navbar-content">
        <view class="navbar-left">
          <view class="back-btn" @click="goBack">
            <text class="back-icon">â€¹</text>
          </view>
          <text class="navbar-title">å¸®åŠ©ä¸­å¿ƒ</text>
        </view>
      </view>
    </view>

    <scroll-view class="help-content" scroll-y>
      <!-- ä½¿ç”¨æ•™ç¨‹ -->
      <view class="help-section">
        <view class="section-title">ğŸ“– ä½¿ç”¨æ•™ç¨‹</view>
        <view class="tutorial-item">
          <view class="tutorial-title">1. å¸¸ç”¨æ¨¡å¼</view>
          <view class="tutorial-desc">
            åœ¨å¸¸ç”¨æ¨¡å¼ä¸‹ï¼Œæ‚¨å¯ä»¥å¿«é€Ÿé€‰æ‹©é¢„è®¾çš„é¢œè‰²ï¼Œæˆ–é€šè¿‡RGBæ»‘å—è‡ªå®šä¹‰é¢œè‰²ã€‚ä½¿ç”¨è¿‡çš„é¢œè‰²ä¼šè‡ªåŠ¨æ·»åŠ åˆ°å¸¸ç”¨åˆ—è¡¨ã€‚
          </view>
        </view>
        <view class="tutorial-item">
          <view class="tutorial-title">2. æ”¶è—æ¨¡å¼</view>
          <view class="tutorial-desc">
            åœ¨è‰²å½©åº“ä¸­ç‚¹å‡»å¿ƒå½¢å›¾æ ‡æ”¶è—å–œæ¬¢çš„é¢œè‰²ï¼Œæ”¶è—çš„é¢œè‰²ä¼šæ˜¾ç¤ºåœ¨æ”¶è—æ¨¡å¼ä¸­ï¼Œæ–¹ä¾¿å¿«é€Ÿè®¿é—®ã€‚
          </view>
        </view>
        <view class="tutorial-item">
          <view class="tutorial-title">3. ç™¾å˜å…‰æº</view>
          <view class="tutorial-desc">
            é€‰æ‹©å¤šä¸ªé¢œè‰²ï¼Œè®¾ç½®åˆ‡æ¢é¢‘ç‡ï¼Œå¼€å¯åä¼šè‡ªåŠ¨å¾ªç¯åˆ‡æ¢é¢œè‰²ï¼Œè¥é€ åŠ¨æ€å…‰å½±æ•ˆæœã€‚é€‚åˆæ‹æ‘„åˆ›æ„è§†é¢‘ã€‚
          </view>
        </view>
        <view class="tutorial-item">
          <view class="tutorial-title">4. åœºæ™¯æ¨¡å¼</view>
          <view class="tutorial-desc">
            æä¾›é˜…è¯»ã€ç¡çœ ã€å·¥ä½œã€æŠ¤çœ¼ç­‰åœºæ™¯æ¨¡å¼ï¼Œä¸€é”®åˆ‡æ¢é€‚åˆçš„é¢œè‰²å’Œäº®åº¦ï¼Œæ»¡è¶³ä¸åŒä½¿ç”¨åœºæ™¯ã€‚
          </view>
        </view>
        <view class="tutorial-item">
          <view class="tutorial-title">5. äº®åº¦è°ƒèŠ‚</view>
          <view class="tutorial-desc">
            é€šè¿‡äº®åº¦æ»‘å—è°ƒèŠ‚äº®åº¦ï¼ˆ10%-100%ï¼‰ï¼Œé€‚åº”ä¸åŒç¯å¢ƒå…‰çº¿éœ€æ±‚ã€‚
          </view>
        </view>
        <view class="tutorial-item">
          <view class="tutorial-title">6. å®šæ—¶å…³é—­</view>
          <view class="tutorial-desc">
            å¼€å¯å®šæ—¶å…³é—­åŠŸèƒ½ï¼Œè®¾ç½®æ—¶é—´åä¼šè‡ªåŠ¨å…³é—­ï¼Œé€‚åˆç¡å‰ä½¿ç”¨æˆ–é•¿æ—¶é—´ä½¿ç”¨åœºæ™¯ã€‚
          </view>
        </view>
      </view>

      <!-- å¸¸è§é—®é¢˜ -->
      <view class="help-section">
        <view class="section-title">â“ å¸¸è§é—®é¢˜</view>
        <view class="faq-item" v-for="(faq, index) in faqs" :key="index">
          <view class="faq-question" @click="toggleFaq(index)">
            <text class="faq-icon">{{ expandedFaqs[index] ? 'â–¼' : 'â–¶' }}</text>
            <text class="faq-text">{{ faq.question }}</text>
          </view>
          <view v-if="expandedFaqs[index]" class="faq-answer">
            <text>{{ faq.answer }}</text>
          </view>
        </view>
      </view>

      <!-- é€‚ç”¨åœºæ™¯ -->
      <view class="help-section">
        <view class="section-title">ğŸ’¡ é€‚ç”¨åœºæ™¯</view>
        <view class="scene-item" v-for="(scene, index) in scenes" :key="index">
          <view class="scene-icon">{{ scene.icon }}</view>
          <view class="scene-content">
            <view class="scene-name">{{ scene.name }}</view>
            <view class="scene-desc">{{ scene.desc }}</view>
          </view>
        </view>
      </view>
    </scroll-view>
  </view>
</template>

<script setup lang="ts">
import { ref } from 'vue';
import { onLoad } from '@dcloudio/uni-app';

const statusBarHeight = ref(0);
const expandedFaqs = ref<boolean[]>([]);

const faqs = [
  {
    question: 'å¦‚ä½•ä¿å­˜è‡ªå®šä¹‰é¢œè‰²ï¼Ÿ',
    answer: 'åœ¨å¸¸ç”¨æ¨¡å¼ä¸‹ï¼Œè°ƒæ•´å¥½RGBé¢œè‰²åï¼Œç‚¹å‡»"ä¿å­˜ä¸ºè‡ªå®šä¹‰"æŒ‰é’®ï¼Œè¾“å…¥é¢œè‰²åç§°å³å¯ä¿å­˜ã€‚ä¿å­˜çš„é¢œè‰²ä¼šæ˜¾ç¤ºåœ¨è‰²å½©åº“çš„"è‡ªå®šä¹‰"æ ‡ç­¾ä¸­ã€‚'
  },
  {
    question: 'ç™¾å˜å…‰æºå¦‚ä½•åœæ­¢ï¼Ÿ',
    answer: 'è¿”å›è®¾ç½®é¡µé¢ï¼Œå…³é—­"å¼€å¯ç™¾å˜å…‰æº"å¼€å…³ï¼Œæˆ–åˆ‡æ¢åˆ°å…¶ä»–æ¨¡å¼å³å¯åœæ­¢ã€‚'
  },
  {
    question: 'å®šæ—¶å…³é—­åŠŸèƒ½å¦‚ä½•ä½¿ç”¨ï¼Ÿ',
    answer: 'åœ¨è®¾ç½®é¡µé¢å¼€å¯"å®šæ—¶å…³é—­"å¼€å…³ï¼Œé€‰æ‹©é¢„è®¾æ—¶é—´æˆ–è¾“å…¥è‡ªå®šä¹‰æ—¶é—´ï¼ˆ1-120åˆ†é’Ÿï¼‰ï¼Œç‚¹å‡»ç¡®å®šåå®šæ—¶å™¨å¼€å§‹è®¡æ—¶ï¼Œæ—¶é—´åˆ°åä¼šè‡ªåŠ¨å…³é—­ã€‚'
  },
  {
    question: 'å¦‚ä½•æ”¶è—é¢œè‰²ï¼Ÿ',
    answer: 'è¿›å…¥è‰²å½©åº“é¡µé¢ï¼Œæ‰¾åˆ°å–œæ¬¢çš„é¢œè‰²ï¼Œç‚¹å‡»å³ä¾§çš„å¿ƒå½¢å›¾æ ‡å³å¯æ”¶è—ã€‚æ”¶è—çš„é¢œè‰²ä¼šæ˜¾ç¤ºåœ¨"æ”¶è—"æ¨¡å¼ä¸­ã€‚'
  },
  {
    question: 'åœºæ™¯æ¨¡å¼å¯ä»¥è‡ªå®šä¹‰å—ï¼Ÿ',
    answer: 'åœºæ™¯æ¨¡å¼æä¾›é¢„è®¾çš„é¢œè‰²å’Œäº®åº¦ï¼Œæ‚¨å¯ä»¥åœ¨é€‰æ‹©åœºæ™¯æ¨¡å¼åï¼Œå†æ‰‹åŠ¨è°ƒæ•´RGBå’Œäº®åº¦æ¥å¾®è°ƒæ•ˆæœã€‚'
  },
  {
    question: 'ä¸ºä»€ä¹ˆé¢œè‰²æ˜¾ç¤ºä¸å‡†ç¡®ï¼Ÿ',
    answer: 'é¢œè‰²å—æ‰‹æœºå±å¹•æ˜¾ç¤ºæ•ˆæœå½±å“ï¼Œä¸åŒæ‰‹æœºå‹å·å¯èƒ½å­˜åœ¨è‰²å·®ã€‚å»ºè®®åœ¨ä¸“ä¸šè®¾å¤‡ä¸Šä½¿ç”¨æ—¶è¿›è¡Œæ ¡å‡†ã€‚'
  }
];

const scenes = [
  {
    icon: 'ğŸ“¸',
    name: 'ä¸“ä¸šæ‘„å½±',
    desc: 'äººåƒæ‹æ‘„ã€äº§å“æ‘„å½±ã€é™ç‰©æ‹æ‘„'
  },
  {
    icon: 'ğŸ“±',
    name: 'è‡ªæ‹ç¾å¦†',
    desc: 'è‡ªæ‹è¡¥å…‰ã€ç¾å¦†ç›´æ’­ã€äº§å“å±•ç¤º'
  },
  {
    icon: 'ğŸ¬',
    name: 'è§†é¢‘åˆ›ä½œ',
    desc: 'vlogæ‹æ‘„ã€çŸ­è§†é¢‘åˆ¶ä½œã€ç›´æ’­è¡¥å…‰'
  },
  {
    icon: 'ğŸ“–',
    name: 'é˜…è¯»å­¦ä¹ ',
    desc: 'å¤œé—´é˜…è¯»ã€å­¦ä¹ è¡¥å…‰ã€æŠ¤çœ¼æ¨¡å¼'
  },
  {
    icon: 'ğŸƒ',
    name: 'åˆ›æ„æ‹æ‘„',
    desc: 'èŠ‚æ—¥ä¸»é¢˜ã€æ°›å›´è¥é€ ã€è‰ºæœ¯åˆ›ä½œ'
  }
];

const toggleFaq = (index: number) => {
  expandedFaqs.value[index] = !expandedFaqs.value[index];
};

const goBack = () => {
  uni.navigateBack();
};

onLoad(() => {
  const systemInfo = uni.getSystemInfoSync();
  statusBarHeight.value = systemInfo.statusBarHeight || 0;
  expandedFaqs.value = new Array(faqs.length).fill(false);
});
</script>

<style scoped lang="scss">
.help-page {
  min-height: 100vh;
  background-color: #f5f5f5;
  display: flex;
  flex-direction: column;
}

.custom-navbar {
  background-color: #ffffff;
  border-bottom: 1rpx solid #e5e5e5;
  position: sticky;
  top: 0;
  z-index: 100;
}

.navbar-content {
  height: 88rpx;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 30rpx;
}

.navbar-left {
  display: flex;
  align-items: center;
  gap: 20rpx;
}

.back-btn {
  width: 60rpx;
  height: 60rpx;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
}

.back-icon {
  font-size: 48rpx;
  color: #333;
  font-weight: 300;
}

.navbar-title {
  font-size: 36rpx;
  font-weight: 600;
  color: #333;
}

.help-content {
  flex: 1;
  padding: 30rpx;
}

.help-section {
  margin-bottom: 60rpx;
  background-color: #ffffff;
  border-radius: 16rpx;
  padding: 40rpx;
}

.section-title {
  font-size: 36rpx;
  font-weight: 600;
  color: #333;
  margin-bottom: 30rpx;
}

.tutorial-item {
  margin-bottom: 30rpx;
  padding-bottom: 30rpx;
  border-bottom: 1rpx solid #f0f0f0;

  &:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
  }
}

.tutorial-title {
  font-size: 32rpx;
  font-weight: 600;
  color: #333;
  margin-bottom: 12rpx;
}

.tutorial-desc {
  font-size: 28rpx;
  color: #666;
  line-height: 1.6;
}

.faq-item {
  margin-bottom: 20rpx;
  background-color: #f8f8f8;
  border-radius: 12rpx;
  overflow: hidden;
}

.faq-question {
  padding: 24rpx;
  display: flex;
  align-items: center;
  gap: 16rpx;
  cursor: pointer;
  transition: background-color 0.3s ease;

  &:active {
    background-color: #eeeeee;
  }
}

.faq-icon {
  font-size: 24rpx;
  color: #007aff;
  width: 32rpx;
  text-align: center;
}

.faq-text {
  flex: 1;
  font-size: 30rpx;
  color: #333;
  font-weight: 500;
}

.faq-answer {
  padding: 0 24rpx 24rpx 72rpx;
  font-size: 28rpx;
  color: #666;
  line-height: 1.6;
}

.scene-item {
  display: flex;
  align-items: center;
  gap: 24rpx;
  padding: 24rpx;
  background-color: #f8f8f8;
  border-radius: 12rpx;
  margin-bottom: 20rpx;

  &:last-child {
    margin-bottom: 0;
  }
}

.scene-icon {
  font-size: 48rpx;
  width: 80rpx;
  text-align: center;
}

.scene-content {
  flex: 1;
}

.scene-name {
  font-size: 32rpx;
  font-weight: 600;
  color: #333;
  margin-bottom: 8rpx;
}

.scene-desc {
  font-size: 26rpx;
  color: #666;
  line-height: 1.5;
}
</style>

