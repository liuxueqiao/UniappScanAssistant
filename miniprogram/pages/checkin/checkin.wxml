<view class="container">
  <!-- Header Date -->
  <view class="date-header">
    <view class="text-secondary-light">ä»Šå¤©æ˜¯</view>
    <view class="text-xl">{{todayDate}}</view>
  </view>

  <!-- Input Card -->
  <view class="input-card">
    <view class="input-label">è®°å½•ä»Šå¤©çš„ä½“é‡</view>
    <view class="input-wrapper">
      <input class="weight-input" type="digit" placeholder="0.0" value="{{weightKg}}" bindinput="onInputWeight" />
      <text class="unit">kg</text>
    </view>
    <view class="streak-badge" wx:if="{{streakDays > 0}}">
      <text>ğŸ”¥</text> å·²è¿ç»­æ‰“å¡ {{streakDays}} å¤©
    </view>
    <button class="btn btn-block" loading="{{submitting}}" bindtap="submit">ç¡®è®¤æ‰“å¡</button>
  </view>

  <!-- History List -->
  <view class="history-section">
    <view class="section-title">å†å²è®°å½•</view>
    <view class="history-list">
      <view class="empty-state" wx:if="{{!history.length}}">
        <text style="font-size: 64rpx; margin-bottom: 16rpx;">ğŸ“</text>
        <text class="text-secondary">æš‚æ— è®°å½•ï¼Œå¿«æ¥æ‰“å¡å§</text>
      </view>
      <block wx:for="{{history}}" wx:key="id">
        <view class="history-item">
          <view class="item-date">
            <text>ğŸ“…</text> {{item.dateKey}}
          </view>
          <view class="item-val">
            {{item.weightKg}} <text class="item-unit">kg</text>
          </view>
        </view>
      </block>
    </view>
  </view>
</view>
