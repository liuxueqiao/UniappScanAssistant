<view class="container">
  <view class="card">
    <view class="title">每日打卡</view>
    <view class="muted">每天仅可提交一次体重，记录会保留历史</view>

    <view class="formRow">
      <text class="label">体重(kg)</text>
      <input class="input" type="digit" placeholder="例如 68.5" value="{{weightKg}}" bindinput="onInputWeight" />
    </view>

    <button class="btn" type="primary" loading="{{submitting}}" bindtap="submit">提交打卡</button>
    <view class="muted" wx:if="{{streakDays}}">连续打卡：{{streakDays}} 天</view>
  </view>

  <view class="card">
    <view class="title">最近记录</view>
    <view class="muted" wx:if="{{!history.length}}">暂无记录</view>
    <block wx:for="{{history}}" wx:key="id">
      <view class="row">
        <text>{{item.dateKey}}</text>
        <text>{{item.weightKg}}kg</text>
      </view>
    </block>
  </view>
</view>

